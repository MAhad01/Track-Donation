{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\arije\\\\OneDrive\\\\Desktop\\\\MinorProject\\\\track-donations\\\\src\\\\components\\\\createCampaign\\\\PaymentGateway.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PaymentGateway() {\n  _s();\n\n  const {\n    ethereum\n  } = window;\n  const [amountData, setAmountData] = useState(\"\");\n  const [addressData, setAddressData] = useState(\"\");\n  const [currentAccount, setCurrentAccount] = useState(\"\");\n\n  const handleChange = e => {\n    setAmountData(e.target.value);\n  };\n\n  const handleAddress = e => {\n    setAddressData(e.target.value);\n  };\n\n  ethereum.on(\"accountsChanged\", function () {\n    window.location.reload();\n  });\n  useEffect(() => {\n    async function connectWallet() {\n      if (typeof ethereum !== \"undefined\") {\n        const accounts = await ethereum.request({\n          method: \"eth_requestAccounts\"\n        });\n        setCurrentAccount(accounts[0]);\n      }\n    }\n\n    connectWallet();\n  }, [currentAccount, setCurrentAccount, ethereum]);\n\n  const sendETH = async e => {\n    e.preventDefault();\n\n    try {\n      if (ethereum) {\n        const parsedAmount = ethers.utils.parseEther(amountData);\n        await ethereum.request({\n          method: \"eth_sendTransaction\",\n          params: [{\n            from: currentAccount,\n            to: addressData,\n            gas: \"0x5208\",\n            value: parsedAmount._hex\n          }]\n        });\n      } else {\n        console.log(\"No ethereum object\");\n      }\n    } catch (error) {\n      console.log(error);\n      throw new Error(\"No ethereum object\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"single-outer\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"single-card-item-gateway\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"gateway-form\",\n        onSubmit: sendETH,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"gateway-lable\",\n          children: \"TRANSFER TO\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"transfer-to-account\",\n          className: \"transfer-to\",\n          type: \"text\",\n          required: true,\n          autoComplete: \"off\",\n          onChange: handleAddress\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"gateway-lable\",\n          children: \"AMOUNT (ETH)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"amount\",\n          className: \"amount\",\n          type: \"number\",\n          required: true,\n          autoComplete: \"off\",\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"variable-width-btn button-su transaction-list-btn\",\n          type: \"submit\",\n          children: \"TRANSFER\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n\n_s(PaymentGateway, \"xf2BRg51zZgELU1Z83JYeYwiF1U=\");\n\n_c = PaymentGateway;\n\nvar _c;\n\n$RefreshReg$(_c, \"PaymentGateway\");","map":{"version":3,"names":["React","useState","ethers","PaymentGateway","ethereum","window","amountData","setAmountData","addressData","setAddressData","currentAccount","setCurrentAccount","handleChange","e","target","value","handleAddress","on","location","reload","useEffect","connectWallet","accounts","request","method","sendETH","preventDefault","parsedAmount","utils","parseEther","params","from","to","gas","_hex","console","log","error","Error"],"sources":["C:/Users/arije/OneDrive/Desktop/MinorProject/track-donations/src/components/createCampaign/PaymentGateway.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { ethers } from \"ethers\";\r\nexport default function PaymentGateway() {\r\n  const { ethereum } = window;\r\n  const [amountData, setAmountData] = useState(\"\");\r\n  const [addressData, setAddressData] = useState(\"\");\r\n  const [currentAccount, setCurrentAccount] = useState(\"\");\r\n  const handleChange = (e) => {\r\n    setAmountData(e.target.value);\r\n  };\r\n  const handleAddress = (e) => {\r\n    setAddressData(e.target.value);\r\n  };\r\n  ethereum.on(\"accountsChanged\", function () {\r\n    window.location.reload();\r\n  });\r\n\r\n  useEffect(() => {\r\n    async function connectWallet() {\r\n      if (typeof ethereum !== \"undefined\") {\r\n        const accounts = await ethereum.request({\r\n          method: \"eth_requestAccounts\",\r\n        });\r\n        setCurrentAccount(accounts[0]);\r\n      }\r\n    }\r\n    connectWallet();\r\n  }, [currentAccount, setCurrentAccount, ethereum]);\r\n  const sendETH = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      if (ethereum) {\r\n        const parsedAmount = ethers.utils.parseEther(amountData);\r\n        await ethereum.request({\r\n          method: \"eth_sendTransaction\",\r\n          params: [\r\n            {\r\n              from: currentAccount,\r\n              to: addressData,\r\n              gas: \"0x5208\",\r\n              value: parsedAmount._hex,\r\n            },\r\n          ],\r\n        });\r\n      } else {\r\n        console.log(\"No ethereum object\");\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      throw new Error(\"No ethereum object\");\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"single-outer\">\r\n      <div className=\"single-card-item-gateway\">\r\n        <form className=\"gateway-form\" onSubmit={sendETH}>\r\n          <p className=\"gateway-lable\">TRANSFER TO</p>\r\n          <br />\r\n          <input\r\n            id=\"transfer-to-account\"\r\n            className=\"transfer-to\"\r\n            type=\"text\"\r\n            required\r\n            autoComplete=\"off\"\r\n            onChange={handleAddress}\r\n          />\r\n          <br />\r\n          <p className=\"gateway-lable\">AMOUNT (ETH)</p>\r\n          <br />\r\n          <input\r\n            id=\"amount\"\r\n            className=\"amount\"\r\n            type=\"number\"\r\n            required\r\n            autoComplete=\"off\"\r\n            onChange={handleChange}\r\n          />\r\n          <br />\r\n          <button\r\n            className=\"variable-width-btn button-su transaction-list-btn\"\r\n            type=\"submit\"\r\n          >\r\n            TRANSFER\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}