{"ast":null,"code":"import _slicedToArray from\"C:/Users/arije/OneDrive/Desktop/MinorProject/track-donations/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import\"./CampaignCard.css\";import{Redirect}from\"react-router-dom\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SingleCard=function SingleCard(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),LogOut=_useState2[0],setLogOut=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),campaignBalance=_useState4[0],setCampaignBalance=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),gateway=_useState6[0],setGateway=_useState6[1];useEffect(function(){fetch(\"https://api-goerli.etherscan.io/api?module=account&action=balance&address=\".concat(props.campaigns[0].wallet,\"&tag=latest&apikey=NV73WQ1VR3QCXY2K1WYGVRA1VHY8521D1V\")).then(function(response){return response.json();}).then(function(data){setCampaignBalance(data.result);});},[]);function logOut(){localStorage.clear();setLogOut(true);}function handleGateway(){setGateway(true);}return/*#__PURE__*/_jsxs(_Fragment,{children:[!gateway&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"single-outer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"single-card-item\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"single-card-box table\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"single-card-preview\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\" \",props.campaigns[0].ngo]}),/*#__PURE__*/_jsxs(\"h4\",{children:[\" \",props.campaigns[0].email]}),/*#__PURE__*/_jsxs(\"h4\",{children:[\" \",props.campaigns[0].phone]}),/*#__PURE__*/_jsx(\"hr\",{})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"single-card-info\",children:[/*#__PURE__*/_jsx(\"table\",{className:\"single-table-content\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"single-table-entry-td\",children:\" Mission\"}),/*#__PURE__*/_jsx(\"td\",{className:\"single-table-data-td\",children:/*#__PURE__*/_jsxs(\"u\",{children:[props.campaigns[0].objective,\" \"]})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{className:\"single-table-entry-td\",children:[\" \",\"Minimum Donation\"]}),/*#__PURE__*/_jsx(\"td\",{className:\"single-table-data-td\",children:/*#__PURE__*/_jsxs(\"u\",{children:[props.campaigns[0].minimum,\" ETH\"]})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{className:\"single-table-entry-td\",children:[\" \",\"Target Amount\"]}),/*#__PURE__*/_jsx(\"td\",{className:\"single-table-data-td\",children:/*#__PURE__*/_jsxs(\"u\",{children:[props.campaigns[0].target,\" ETH\"]})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{className:\"single-table-entry-td\",children:[\" \",\"Wallet Address\"]}),/*#__PURE__*/_jsx(\"td\",{className:\"single-table-data-td\",children:/*#__PURE__*/_jsxs(\"u\",{children:[props.campaigns[0].wallet.slice(0,10),\"...\",props.campaigns[0].wallet.slice(22,32)]})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"single-table-entry-td\",children:\"Current Balance\"}),/*#__PURE__*/_jsx(\"td\",{className:\"single-table-data-td\",children:/*#__PURE__*/_jsxs(\"u\",{children:[(parseInt(campaignBalance)/10000000000/100000000).toFixed(6),\" \",\"ETH\"]})})]})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"variable-width-btn button-su transaction-list-btn\",onClick:logOut,children:\"LOG OUT\"}),LogOut&&/*#__PURE__*/_jsx(Redirect,{to:\"/landingPage\"})]})]})})}),/*#__PURE__*/_jsx(\"button\",{className:\"variable-width-btn button-su transaction-list-btn\",onClick:handleGateway,children:\"GO TO PAYMENT GATEWAY\"})]}),gateway&&/*#__PURE__*/_jsx(Redirect,{to:\"/payment\"})]});};export default SingleCard;","map":{"version":3,"names":["React","useState","useEffect","Redirect","SingleCard","props","LogOut","setLogOut","campaignBalance","setCampaignBalance","gateway","setGateway","fetch","campaigns","wallet","then","response","json","data","result","logOut","localStorage","clear","handleGateway","ngo","email","phone","objective","minimum","target","slice","parseInt","toFixed"],"sources":["C:/Users/arije/OneDrive/Desktop/MinorProject/track-donations/src/components/createCampaign/SingleCard.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"./CampaignCard.css\";\r\nimport { Redirect } from \"react-router-dom\";\r\nconst SingleCard = (props) => {\r\n  const [LogOut, setLogOut] = useState(false);\r\n  const [campaignBalance, setCampaignBalance] = useState(0);\r\n  const [gateway, setGateway] = useState(false);\r\n  useEffect(() => {\r\n    fetch(\r\n      `https://api-goerli.etherscan.io/api?module=account&action=balance&address=${props.campaigns[0].wallet}&tag=latest&apikey=NV73WQ1VR3QCXY2K1WYGVRA1VHY8521D1V`\r\n    )\r\n      .then((response) => {\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        setCampaignBalance(data.result);\r\n      });\r\n  }, []);\r\n  function logOut() {\r\n    localStorage.clear();\r\n    setLogOut(true);\r\n  }\r\n  function handleGateway() {\r\n    setGateway(true);\r\n  }\r\n  return (\r\n    <>\r\n      {!gateway && (\r\n        <>\r\n          <div className=\"single-outer\">\r\n            <div className=\"single-card-item\">\r\n              <div className=\"single-card-box table\">\r\n                <div className=\"single-card-preview\">\r\n                  <h2> {props.campaigns[0].ngo}</h2>\r\n                  <h4> {props.campaigns[0].email}</h4>\r\n                  <h4> {props.campaigns[0].phone}</h4>\r\n                  <hr />\r\n                </div>\r\n                <div className=\"single-card-info\">\r\n                  <table className=\"single-table-content\">\r\n                    <tbody>\r\n                      <tr>\r\n                        <td className=\"single-table-entry-td\"> Mission</td>\r\n                        <td className=\"single-table-data-td\">\r\n                          <u>{props.campaigns[0].objective} </u>\r\n                        </td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td className=\"single-table-entry-td\">\r\n                          {\" \"}\r\n                          Minimum Donation\r\n                        </td>\r\n                        <td className=\"single-table-data-td\">\r\n                          <u>{props.campaigns[0].minimum} ETH</u>\r\n                        </td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td className=\"single-table-entry-td\">\r\n                          {\" \"}\r\n                          Target Amount\r\n                        </td>\r\n                        <td className=\"single-table-data-td\">\r\n                          <u>{props.campaigns[0].target} ETH</u>\r\n                        </td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td className=\"single-table-entry-td\">\r\n                          {\" \"}\r\n                          Wallet Address\r\n                        </td>\r\n                        <td className=\"single-table-data-td\">\r\n                          <u>\r\n                            {props.campaigns[0].wallet.slice(0, 10)}\r\n                            {\"...\"}\r\n                            {props.campaigns[0].wallet.slice(22, 32)}\r\n                          </u>\r\n                        </td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td className=\"single-table-entry-td\">\r\n                          Current Balance\r\n                        </td>\r\n                        <td className=\"single-table-data-td\">\r\n                          <u>\r\n                            {(\r\n                              parseInt(campaignBalance) /\r\n                              10000000000 /\r\n                              100000000\r\n                            ).toFixed(6)}{\" \"}\r\n                            ETH\r\n                          </u>\r\n                        </td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n\r\n                  <button\r\n                    className=\"variable-width-btn button-su transaction-list-btn\"\r\n                    onClick={logOut}\r\n                  >\r\n                    LOG OUT\r\n                  </button>\r\n                  {LogOut && <Redirect to=\"/landingPage\" />}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <button\r\n            className=\"variable-width-btn button-su transaction-list-btn\"\r\n            onClick={handleGateway}\r\n          >\r\n            GO TO PAYMENT GATEWAY\r\n          </button>\r\n        </>\r\n      )}\r\n      {gateway && <Redirect to=\"/payment\" />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SingleCard;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}