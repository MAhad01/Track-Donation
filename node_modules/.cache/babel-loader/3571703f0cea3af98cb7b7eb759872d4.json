{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\arije\\\\OneDrive\\\\Desktop\\\\MinorProject\\\\track-donations\\\\src\\\\components\\\\createCampaign\\\\RequestsPage.js\";\nimport React from \"react\";\nimport { ethers } from \"ethers\";\nimport { votingABI, votingAddress } from \"../votingContract/constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function RequestsPage(_ref) {\n  let {\n    allRequests,\n    address\n  } = _ref;\n  const {\n    ethereum\n  } = window;\n\n  const createEthereumContract = () => {\n    const provider = new ethers.providers.Web3Provider(ethereum);\n    const signer = provider.getSigner();\n    const votingContract = new ethers.Contract(votingAddress, votingABI, signer);\n    return votingContract;\n  };\n\n  const votingContract = createEthereumContract();\n\n  const handleApprove = async request => {\n    const votingHash = await votingContract.voteApprove(request);\n    await votingHash.wait();\n    const status = await votingContract.getStatus(request);\n    console.log(status);\n  };\n\n  const handleReject = async request => {\n    const votingHash = await votingContract.voteDisprove(request);\n    await votingHash.wait();\n    const status = await votingContract.getStatus(request);\n    console.log(status);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"req-list\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"req-heading\",\n      children: \"WITHDRAWAL REQUESTS\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), allRequests && allRequests.map(request => /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"requests\",\n      children: request.campaignAccount === address && /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [request.theRequest, /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"vote-btn variable-width-btn\",\n          onClick: handleApprove,\n          children: \"APPROVE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"vote-btn variable-width-btn button-su transaction-list-btn\",\n          onClick: handleReject,\n          children: \"REJECT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 11\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n_c = RequestsPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"RequestsPage\");","map":{"version":3,"names":["React","ethers","votingABI","votingAddress","RequestsPage","allRequests","address","ethereum","window","createEthereumContract","provider","providers","Web3Provider","signer","getSigner","votingContract","Contract","handleApprove","request","votingHash","voteApprove","wait","status","getStatus","console","log","handleReject","voteDisprove","map","campaignAccount","theRequest"],"sources":["C:/Users/arije/OneDrive/Desktop/MinorProject/track-donations/src/components/createCampaign/RequestsPage.js"],"sourcesContent":["import React from \"react\";\r\nimport { ethers } from \"ethers\";\r\nimport { votingABI, votingAddress } from \"../votingContract/constants\";\r\n\r\nexport default function RequestsPage({ allRequests, address }) {\r\n  const { ethereum } = window;\r\n\r\n  const createEthereumContract = () => {\r\n    const provider = new ethers.providers.Web3Provider(ethereum);\r\n    const signer = provider.getSigner();\r\n    const votingContract = new ethers.Contract(\r\n      votingAddress,\r\n      votingABI,\r\n      signer\r\n    );\r\n    return votingContract;\r\n  };\r\n  const votingContract = createEthereumContract();\r\n  const handleApprove = async (request) => {\r\n    const votingHash = await votingContract.voteApprove(request);\r\n    await votingHash.wait();\r\n    const status = await votingContract.getStatus(request);\r\n    console.log(status);\r\n  };\r\n  const handleReject = async (request) => {\r\n    const votingHash = await votingContract.voteDisprove(request);\r\n    await votingHash.wait();\r\n    const status = await votingContract.getStatus(request);\r\n    console.log(status);\r\n  };\r\n\r\n  return (\r\n    <div className=\"req-list\">\r\n      <h1 className=\"req-heading\">WITHDRAWAL REQUESTS</h1>\r\n      {allRequests &&\r\n        allRequests.map((request) => (\r\n          <ul className=\"requests\">\r\n            {request.campaignAccount === address && (\r\n              <li>\r\n                {request.theRequest}\r\n                <button className=\"vote-btn variable-width-btn\" onClick={handleApprove}>APPROVE</button>\r\n                <button className=\"vote-btn variable-width-btn button-su transaction-list-btn\" onClick={handleReject}>REJECT</button>\r\n              </li>\r\n            )}\r\n          </ul>\r\n        ))}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,QAAvB;AACA,SAASC,SAAT,EAAoBC,aAApB,QAAyC,6BAAzC;;AAEA,eAAe,SAASC,YAAT,OAAgD;EAAA,IAA1B;IAAEC,WAAF;IAAeC;EAAf,CAA0B;EAC7D,MAAM;IAAEC;EAAF,IAAeC,MAArB;;EAEA,MAAMC,sBAAsB,GAAG,MAAM;IACnC,MAAMC,QAAQ,GAAG,IAAIT,MAAM,CAACU,SAAP,CAAiBC,YAArB,CAAkCL,QAAlC,CAAjB;IACA,MAAMM,MAAM,GAAGH,QAAQ,CAACI,SAAT,EAAf;IACA,MAAMC,cAAc,GAAG,IAAId,MAAM,CAACe,QAAX,CACrBb,aADqB,EAErBD,SAFqB,EAGrBW,MAHqB,CAAvB;IAKA,OAAOE,cAAP;EACD,CATD;;EAUA,MAAMA,cAAc,GAAGN,sBAAsB,EAA7C;;EACA,MAAMQ,aAAa,GAAG,MAAOC,OAAP,IAAmB;IACvC,MAAMC,UAAU,GAAG,MAAMJ,cAAc,CAACK,WAAf,CAA2BF,OAA3B,CAAzB;IACA,MAAMC,UAAU,CAACE,IAAX,EAAN;IACA,MAAMC,MAAM,GAAG,MAAMP,cAAc,CAACQ,SAAf,CAAyBL,OAAzB,CAArB;IACAM,OAAO,CAACC,GAAR,CAAYH,MAAZ;EACD,CALD;;EAMA,MAAMI,YAAY,GAAG,MAAOR,OAAP,IAAmB;IACtC,MAAMC,UAAU,GAAG,MAAMJ,cAAc,CAACY,YAAf,CAA4BT,OAA5B,CAAzB;IACA,MAAMC,UAAU,CAACE,IAAX,EAAN;IACA,MAAMC,MAAM,GAAG,MAAMP,cAAc,CAACQ,SAAf,CAAyBL,OAAzB,CAArB;IACAM,OAAO,CAACC,GAAR,CAAYH,MAAZ;EACD,CALD;;EAOA,oBACE;IAAK,SAAS,EAAC,UAAf;IAAA,wBACE;MAAI,SAAS,EAAC,aAAd;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,EAEGjB,WAAW,IACVA,WAAW,CAACuB,GAAZ,CAAiBV,OAAD,iBACd;MAAI,SAAS,EAAC,UAAd;MAAA,UACGA,OAAO,CAACW,eAAR,KAA4BvB,OAA5B,iBACC;QAAA,WACGY,OAAO,CAACY,UADX,eAEE;UAAQ,SAAS,EAAC,6BAAlB;UAAgD,OAAO,EAAEb,aAAzD;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAFF,eAGE;UAAQ,SAAS,EAAC,4DAAlB;UAA+E,OAAO,EAAES,YAAxF;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAHF;MAAA;QAAA;QAAA;QAAA;MAAA;IAFJ;MAAA;MAAA;MAAA;IAAA,QADF,CAHJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAiBD;KA5CuBtB,Y"},"metadata":{},"sourceType":"module"}