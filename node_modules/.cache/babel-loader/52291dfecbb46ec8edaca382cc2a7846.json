{"ast":null,"code":"import _slicedToArray from\"C:/Users/arije/OneDrive/Desktop/MinorProject/track-donations/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useState}from\"react\";import{Redirect}from\"react-router-dom\";import\"./LogIn.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LogInAsNGO(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),LogIn=_useState2[0],setIsLogIn=_useState2[1];var emailInputRef=useRef();var passwordInputRef=useRef();function saveTokenInLocalStorage(tokenDetails){localStorage.setItem('userEmail',JSON.stringify(tokenDetails));setIsLogIn(true);}var submitHandler=function submitHandler(event){event.preventDefault();var enteredEmail=emailInputRef.current.value;var enteredPassword=passwordInputRef.current.value;fetch(\"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCWshObZRK4immwWy7uzJFMAyvsKO33kXA\",{method:\"POST\",body:JSON.stringify({email:enteredEmail,password:enteredPassword,returnSecureToken:true}),headers:{\"Content-Type\":\"application/json\"}}).then(function(res){if(res.ok){return res.json();}else{return res.json().then(function(){var errorMessage=\"Authentication Failed!\";alert(errorMessage);throw new Error(errorMessage);});}}).then(function(data){// console.log(data);\nsaveTokenInLocalStorage(data.email);}).catch(function(err){alert(err.message);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container10\",children:[/*#__PURE__*/_jsxs(\"form\",{className:\"login\",onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(\"h1\",{className:\"head\",children:\"NGO LOG IN\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"login__input\",placeholder:\"Email\",ref:emailInputRef}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"login__input\",placeholder:\"Password\",ref:passwordInputRef}),/*#__PURE__*/_jsx(\"button\",{className:\"button-su transaction-list-btn\",children:\"LOG IN\"})]}),LogIn&&/*#__PURE__*/_jsx(Redirect,{to:\"/yourCampaign\"})]});}export default LogInAsNGO;","map":{"version":3,"names":["React","useRef","useState","Redirect","LogInAsNGO","LogIn","setIsLogIn","emailInputRef","passwordInputRef","saveTokenInLocalStorage","tokenDetails","localStorage","setItem","JSON","stringify","submitHandler","event","preventDefault","enteredEmail","current","value","enteredPassword","fetch","method","body","email","password","returnSecureToken","headers","then","res","ok","json","errorMessage","alert","Error","data","catch","err","message"],"sources":["C:/Users/arije/OneDrive/Desktop/MinorProject/track-donations/src/components/Auth/LogInAsNGO.js"],"sourcesContent":["import React, { useRef,useState } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nimport \"./LogIn.css\";\r\nfunction LogInAsNGO() {\r\n  const [LogIn, setIsLogIn] = useState(false);\r\n  const emailInputRef = useRef();\r\n  const passwordInputRef = useRef();\r\n  function saveTokenInLocalStorage(tokenDetails){\r\n    localStorage.setItem('userEmail', JSON.stringify(tokenDetails));\r\n    setIsLogIn(true);\r\n  }\r\n  const submitHandler = (event) => {\r\n    event.preventDefault();\r\n    \r\n    const enteredEmail = emailInputRef.current.value;\r\n    const enteredPassword = passwordInputRef.current.value;\r\n    fetch(\r\n      \"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCWshObZRK4immwWy7uzJFMAyvsKO33kXA\",\r\n      {\r\n        method: \"POST\",\r\n        body: JSON.stringify({\r\n          email: enteredEmail,\r\n          password: enteredPassword,\r\n          returnSecureToken: true,\r\n        }),\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      }\r\n    )\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          return res.json().then(() => {\r\n            let errorMessage = \"Authentication Failed!\";\r\n            alert(errorMessage);\r\n            throw new Error(errorMessage);\r\n          });\r\n        }\r\n      })\r\n      .then((data) => {\r\n        // console.log(data);\r\n        saveTokenInLocalStorage(data.email);\r\n      })\r\n      .catch((err) => {\r\n        alert(err.message);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container10\">\r\n      <form className=\"login\" onSubmit={submitHandler}>\r\n      <h1 className=\"head\">NGO LOG IN</h1>\r\n          <input\r\n            type=\"text\"\r\n            className=\"login__input\"\r\n            placeholder=\"Email\"\r\n            ref={emailInputRef}\r\n          />\r\n          <br />\r\n          <input\r\n            type=\"password\"\r\n            className=\"login__input\"\r\n            placeholder=\"Password\"\r\n            ref={passwordInputRef}\r\n          />\r\n        <button className=\"button-su transaction-list-btn\">\r\n          LOG IN\r\n        </button>\r\n      </form>\r\n      {LogIn && <Redirect to=\"/yourCampaign\" />}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LogInAsNGO;"],"mappings":"kJAAA,MAAOA,MAAP,EAAgBC,MAAhB,CAAuBC,QAAvB,KAAuC,OAAvC,CACA,OAASC,QAAT,KAAyB,kBAAzB,CAEA,MAAO,aAAP,C,wFACA,QAASC,WAAT,EAAsB,CACpB,cAA4BF,QAAQ,CAAC,KAAD,CAApC,wCAAOG,KAAP,eAAcC,UAAd,eACA,GAAMC,cAAa,CAAGN,MAAM,EAA5B,CACA,GAAMO,iBAAgB,CAAGP,MAAM,EAA/B,CACA,QAASQ,wBAAT,CAAiCC,YAAjC,CAA8C,CAC5CC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAkCC,IAAI,CAACC,SAAL,CAAeJ,YAAf,CAAlC,EACAJ,UAAU,CAAC,IAAD,CAAV,CACD,CACD,GAAMS,cAAa,CAAG,QAAhBA,cAAgB,CAACC,KAAD,CAAW,CAC/BA,KAAK,CAACC,cAAN,GAEA,GAAMC,aAAY,CAAGX,aAAa,CAACY,OAAd,CAAsBC,KAA3C,CACA,GAAMC,gBAAe,CAAGb,gBAAgB,CAACW,OAAjB,CAAyBC,KAAjD,CACAE,KAAK,CACH,mHADG,CAEH,CACEC,MAAM,CAAE,MADV,CAEEC,IAAI,CAAEX,IAAI,CAACC,SAAL,CAAe,CACnBW,KAAK,CAAEP,YADY,CAEnBQ,QAAQ,CAAEL,eAFS,CAGnBM,iBAAiB,CAAE,IAHA,CAAf,CAFR,CAOEC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAPX,CAFG,CAAL,CAYGC,IAZH,CAYQ,SAACC,GAAD,CAAS,CACb,GAAIA,GAAG,CAACC,EAAR,CAAY,CACV,MAAOD,IAAG,CAACE,IAAJ,EAAP,CACD,CAFD,IAEO,CACL,MAAOF,IAAG,CAACE,IAAJ,GAAWH,IAAX,CAAgB,UAAM,CAC3B,GAAII,aAAY,CAAG,wBAAnB,CACAC,KAAK,CAACD,YAAD,CAAL,CACA,KAAM,IAAIE,MAAJ,CAAUF,YAAV,CAAN,CACD,CAJM,CAAP,CAKD,CACF,CAtBH,EAuBGJ,IAvBH,CAuBQ,SAACO,IAAD,CAAU,CACd;AACA3B,uBAAuB,CAAC2B,IAAI,CAACX,KAAN,CAAvB,CACD,CA1BH,EA2BGY,KA3BH,CA2BS,SAACC,GAAD,CAAS,CACdJ,KAAK,CAACI,GAAG,CAACC,OAAL,CAAL,CACD,CA7BH,EA8BD,CAnCD,CAqCA,mBACE,aAAK,SAAS,CAAC,aAAf,wBACE,cAAM,SAAS,CAAC,OAAhB,CAAwB,QAAQ,CAAExB,aAAlC,wBACA,WAAI,SAAS,CAAC,MAAd,wBADA,cAEI,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,cAFZ,CAGE,WAAW,CAAC,OAHd,CAIE,GAAG,CAAER,aAJP,EAFJ,cAQI,aARJ,cASI,cACE,IAAI,CAAC,UADP,CAEE,SAAS,CAAC,cAFZ,CAGE,WAAW,CAAC,UAHd,CAIE,GAAG,CAAEC,gBAJP,EATJ,cAeE,eAAQ,SAAS,CAAC,gCAAlB,oBAfF,GADF,CAoBGH,KAAK,eAAI,KAAC,QAAD,EAAU,EAAE,CAAC,eAAb,EApBZ,GADF,CAwBD,CAED,cAAeD,WAAf"},"metadata":{},"sourceType":"module"}