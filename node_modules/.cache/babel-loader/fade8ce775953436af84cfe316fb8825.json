{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/arije/OneDrive/Desktop/MinorProject/track-donations/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/arije/OneDrive/Desktop/MinorProject/track-donations/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/arije/OneDrive/Desktop/MinorProject/track-donations/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// BLOCKCHAIN DATABASE\nimport{useEffect,useState}from\"react\";import{detailsABI,detailsAddress}from\"../detailsContract/constants\";import{ethers}from\"ethers\";import Temporary from\"./Temporary\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var GetCampaign=function GetCampaign(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState([{}]),_useState4=_slicedToArray(_useState3,2),loadedCampaigns=_useState4[0],setLoadedCampaigns=_useState4[1];var _window=window,ethereum=_window.ethereum;var start=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var createEthereumContract,detailsContract,allCampaigns;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:createEthereumContract=function createEthereumContract(){var provider=new ethers.providers.Web3Provider(ethereum);var signer=provider.getSigner();var detailsContract=new ethers.Contract(detailsAddress,detailsABI,signer);return detailsContract;};detailsContract=createEthereumContract();_context.next=4;return detailsContract.getCampaigns();case 4:allCampaigns=_context.sent;setLoadedCampaigns(allCampaigns);setIsLoading(false);case 7:case\"end\":return _context.stop();}}},_callee);}));return function start(){return _ref.apply(this,arguments);};}();useEffect(function(){start();},[]);return/*#__PURE__*/_jsx(_Fragment,{children:!isLoading&&/*#__PURE__*/_jsx(Temporary,{campaigns:loadedCampaigns})});};export default GetCampaign;","map":{"version":3,"names":["useEffect","useState","detailsABI","detailsAddress","ethers","Temporary","GetCampaign","isLoading","setIsLoading","loadedCampaigns","setLoadedCampaigns","window","ethereum","start","createEthereumContract","provider","providers","Web3Provider","signer","getSigner","detailsContract","Contract","getCampaigns","allCampaigns"],"sources":["C:/Users/arije/OneDrive/Desktop/MinorProject/track-donations/src/components/createCampaign/GetCampaign.js"],"sourcesContent":["// BLOCKCHAIN DATABASE\r\nimport { useEffect, useState } from \"react\";\r\nimport { detailsABI, detailsAddress } from \"../detailsContract/constants\";\r\nimport { ethers } from \"ethers\";\r\nimport Temporary from \"./Temporary\";\r\nconst GetCampaign = () => {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [loadedCampaigns, setLoadedCampaigns] = useState([{}]);\r\n  const { ethereum } = window;\r\n\r\n  const start = async () => {\r\n    const createEthereumContract = () => {\r\n      const provider = new ethers.providers.Web3Provider(ethereum);\r\n      const signer = provider.getSigner();\r\n      const detailsContract = new ethers.Contract(\r\n        detailsAddress,\r\n        detailsABI,\r\n        signer\r\n      );\r\n      return detailsContract;\r\n    };\r\n    const detailsContract = createEthereumContract();\r\n    const allCampaigns = await detailsContract.getCampaigns();\r\n    setLoadedCampaigns(allCampaigns);\r\n    setIsLoading(false);\r\n  };\r\n  useEffect(() => {\r\n    start();\r\n  }, []);\r\n\r\n  return <>{!isLoading && <Temporary campaigns={loadedCampaigns} />}</>;\r\n};\r\nexport default GetCampaign;\r\n"],"mappings":"scAAA;AACA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,UAAT,CAAqBC,cAArB,KAA2C,8BAA3C,CACA,OAASC,MAAT,KAAuB,QAAvB,CACA,MAAOC,UAAP,KAAsB,aAAtB,C,gGACA,GAAMC,YAAW,CAAG,QAAdA,YAAc,EAAM,CACxB,cAAkCL,QAAQ,CAAC,IAAD,CAA1C,wCAAOM,SAAP,eAAkBC,YAAlB,eACA,eAA8CP,QAAQ,CAAC,CAAC,EAAD,CAAD,CAAtD,yCAAOQ,eAAP,eAAwBC,kBAAxB,eACA,YAAqBC,MAArB,CAAQC,QAAR,SAAQA,QAAR,CAEA,GAAMC,MAAK,4FAAG,6LACNC,sBADM,CACmB,QAAzBA,uBAAyB,EAAM,CACnC,GAAMC,SAAQ,CAAG,GAAIX,OAAM,CAACY,SAAP,CAAiBC,YAArB,CAAkCL,QAAlC,CAAjB,CACA,GAAMM,OAAM,CAAGH,QAAQ,CAACI,SAAT,EAAf,CACA,GAAMC,gBAAe,CAAG,GAAIhB,OAAM,CAACiB,QAAX,CACtBlB,cADsB,CAEtBD,UAFsB,CAGtBgB,MAHsB,CAAxB,CAKA,MAAOE,gBAAP,CACD,CAVW,CAWNA,eAXM,CAWYN,sBAAsB,EAXlC,uBAYeM,gBAAe,CAACE,YAAhB,EAZf,QAYNC,YAZM,eAaZb,kBAAkB,CAACa,YAAD,CAAlB,CACAf,YAAY,CAAC,KAAD,CAAZ,CAdY,sDAAH,kBAALK,MAAK,0CAAX,CAgBAb,SAAS,CAAC,UAAM,CACda,KAAK,GACN,CAFQ,CAEN,EAFM,CAAT,CAIA,mBAAO,yBAAG,CAACN,SAAD,eAAc,KAAC,SAAD,EAAW,SAAS,CAAEE,eAAtB,EAAjB,EAAP,CACD,CA1BD,CA2BA,cAAeH,YAAf"},"metadata":{},"sourceType":"module"}